!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).GLMath={})}(this,(function(t){"use strict";var e={build:"rollup -c",test:"jest","test-watchAll":"jest --watchAll","test-vector":"jest vector","test-matrix":"jest matrix",prepublish:"npm run build"},r={type:"git",url:"git+https://github.com/cevherkarakoc/WebGL-Math.git"},a="cevherkarakoc <cevherkarakoc@live.com> (https://github.com/cevherkarakoc)",o={url:"https://github.com/cevherkarakoc/WebGL-Math/issues"},l="https://github.com/cevherkarakoc/WebGL-Math#readme",s={jest:"^25.1.0",rollup:"^2.1.0","@rollup/plugin-commonjs":"^11.0.2","@rollup/plugin-json":"^4.0.2","rollup-plugin-terser":"^5.3.0"},n={name:"webgl-math",version:"1.1.0",description:"A Mathematics Library for WebGL",main:"index.js",scripts:e,repository:r,author:a,license:"MIT",bugs:o,homepage:l,devDependencies:s};const i=t=>t.map(t=>-t),c=t=>Math.sqrt(t.reduce((t,e)=>t+Math.pow(e,2),0)),h=(t,e)=>t.map(t=>t*e),m=(t,e)=>t.map((t,r)=>t+e[r]),p=t=>Float32Array.of(Math.cos(t),Math.sin(t)),u=t=>Math.atan2(t[1],t[0]);var f={negative:i,reverse:t=>Float32Array.from(t).reverse(),length:c,scale:h,normalize:t=>{return h(t,1/((e=c(t))>0?e:1));var e},add:m,subtract:(t,e)=>m(t,i(e)),multiply:(t,e)=>t.map((t,r)=>t*e[r]),dot:(t,e)=>t.reduce((t,r,a)=>t+r*e[a],0),cross:(t,e)=>Float32Array.of(t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]),fromAngle:p,toAngle:u,rotate:(t,e)=>p(u(t)+e),swizzle:(t,e)=>Float32Array.from(e.map(e=>t[Math.abs(e)]*Math.sign(1/e)))};const d=(t,e)=>Array.from(new Float32Array(e),(r,a)=>t.slice(a*e,(a+1)*e)),y=t=>{if(1===t.length)return t[0];{const e=Math.sqrt(t.length);return t.slice(0,e).reduce((r,a,o)=>{const l=t.filter((t,r)=>r>=e&&(r-o)%e!=0);return r+(o%2==0?1:-1)*a*y(l)},0)}},g=t=>{const e=Math.sqrt(t.length);return Float32Array.from(new Float32Array(t.length),(t,r)=>r%e*e+Math.floor(r/e)).map(e=>t[e])},A=t=>v(t,-1),v=(t,e)=>t.map(t=>t*e),M=(t,e)=>t.map((t,r)=>t+e[r]);var F={slice:d,flat:t=>Float32Array.from(t.reduce((t,e)=>Float32Array.of(...t,...Float32Array.from(e)))),idendity:t=>new Float32Array(t*t).map((e,r)=>r%(t+1)==0?1:0),determinant:y,transpose:g,negative:A,multiplyScalar:v,multiplyVector:(t,e)=>Float32Array.from(d(g(t),e.length),t=>t.reduce((t,r,a)=>t+r*e[a],0)),add:M,subtract:(t,e)=>M(t,A(e)),multiplyCompWise:(t,e)=>t.map((t,r)=>t*e[r]),multiply:(t,e)=>((t,e)=>new Float32Array(t.length*t.length).map((r,a)=>f.dot(t[a%t.length],e[Math.floor(a/t.length)])))(d(g(t),Math.sqrt(t.length)),d(e,Math.sqrt(e.length)))};var b={scale:(t,e)=>((t,e)=>F.flat(F.slice(t,e.length).map((t,r)=>f.scale(t,e[r]))))(t,Float32Array.of(...e,1)),translate:(t,e)=>((t,e)=>F.flat(F.slice(t,e.length).map((t,r,a)=>r!==a.length-1?t:a.reduce((t,r,a)=>f.add(t,f.scale(r,e[a])),new Float32Array(e.length).fill(0)))))(t,Float32Array.of(...e,1)),rotate:(t,e,r)=>((t,e)=>F.flat(F.slice(t,Math.sqrt(t.length)).map((t,r,a)=>r===a.length-1?t:a.slice(0,3).reduce((t,a,o)=>f.add(t,f.scale(a,e[r][o])),new Float32Array(4).fill(0)))))(t,((t,e)=>{const r=Math.sin(t),a=Math.cos(t),o=f.normalize(e),l=f.scale(o,1-a);return[Float32Array.of(a+l[0]*o[0],l[0]*o[1]+r*o[2],l[0]*o[2]-r*o[1]),Float32Array.of(l[1]*o[0]-r*o[2],a+l[1]*o[1],l[1]*o[2]+r*o[0]),Float32Array.of(l[2]*o[0]+r*o[1],l[2]*o[1]-r*o[0],a+l[2]*o[2])]})(e,r))};var k={perspective:(t,e,r,a)=>{const o=1/Math.tan(.5*t);return Float32Array.of(o/e,0,0,0,0,o,0,0,0,0,(a+r)/(r-a),-1,0,0,2*a*r/(r-a),0)},ortho:(t,e,r,a,o,l)=>Float32Array.of(2/(t-e),0,0,0,0,2/(a-r),0,0,0,0,2/(o-l),0,(e+t)/(t-e),(a+r)/(r-a),(l+o)/(o-l),1),lookAt:(t,e,r)=>{const a=f.normalize(f.subtract(t,e)),o=f.cross(f.normalize(r),a),l=f.cross(a,o);return F.multiply(F.transpose(F.flat([Float32Array.of(...o,0),Float32Array.of(...l,0),Float32Array.of(...a,0),Float32Array.of(0,0,0,1)])),b.translate(F.idendity(4),F.negative(t)))}};var j,w=((j=Object.freeze({__proto__:null,name:"webgl-math",version:"1.1.0",description:"A Mathematics Library for WebGL",main:"index.js",scripts:e,repository:r,author:a,license:"MIT",bugs:o,homepage:l,devDependencies:s,default:n}))&&j.default||j).version,x=f,L=F,z=k,q=b,G={VERSION:w,Vector:x,Matrix:L,Camera:z,Transform:q};t.Camera=z,t.Matrix=L,t.Transform=q,t.VERSION=w,t.Vector=x,t.default=G,Object.defineProperty(t,"__esModule",{value:!0})}));//# sourceMappingURL=webgl-math.min.js.map
